from Player import Playerfrom const import *import mathclass ClientAction:	def __init__(self, keyinput, sensing_data=None):		self.keyinput = keyinput		self.sensing_data = sensing_data		self.decree = {'move_flag':Player.PLAYER_MOVE_STOP, 'turn_sight':'STOP', 'move_direction':0, 'nomal_shoot':False, 'bomb_shoot':False}#	# return theta#	def set_sight_direction(self):#		if sensing_data #		return math.atan2(self.keyinput.mouseY - self.y, self.keyinput.mouseX - self.x)	def move_from_keyboard(self):		key = self.keyinput.pressTime		move_direction = 0		x = 0		y = 0		if key[KEY_UP] > 0:			y -= 1		elif key[KEY_DOWN] > 0:			y += 1		if key[KEY_RIGHT] > 0:			x += 1		elif key[KEY_LEFT] > 0:			x -= 1		move_direction = math.atan2(y,x)		if key[KEY_RUN] > 0:			move_flag = Player.PLAYER_MOVE_RUN		elif key[KEY_SNEAK] > 0:			move_flag = Player.PLAYER_MOVE_SNEAK		else:			move_flag = Player.PLAYER_MOVE_WALK		# 止まっているならば，移動方向の更新はしない		if x == 0 and y == 0:			move_flag = Player.PLAYER_MOVE_STOP			move_direction = self.decree['move_direction']		if key[KEY_LOOK_RIGHT] > 0:			self.decree['turn_sight'] = 'RIGHT'		elif key[KEY_LOOK_LEFT] > 0:			self.decree['turn_sight'] = 'LEFT'		else:			self.decree['turn_sight'] = 'STOP'		if key[KEY_SHOT] > 0:			shoot_nomal = True		else:			shoot_nomal = False		if key[KEY_BOMB] > 0:			shoot_bomb = True		else:			shoot_bomb = False		self.decree['move_flag'] = move_flag		self.decree['shoot_nomal'] = shoot_nomal		self.decree['shoot_bomb'] = shoot_bomb		self.decree['move_direction'] = move_direction	def update(self):		self.move_from_keyboard()		return self.decree